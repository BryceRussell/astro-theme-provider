---
title: Styling a theme
description: Conventions and techniques for styling theme integrations created with Astro Theme Provider
---

import { FileTree } from '@astrojs/starlight/components';

Themes integrations can be styled just like any other Astro project, but there are a few conventions that theme authors should follow to create themes that are customizable and compatible with each other.

## Virtual style modules

Astro Theme Provider uses virtual modules for styling:

```tsx
// package/src/pages/index.astro
---
import "my-theme:styles";
---
```

Virtual modules are important for the styling of themes, they allow users to append their own styles to the module for customization.
When styling a theme, always use virtual imports so that users can append their own styles to the module:

```tsx
// package/src/pages/index.astro
---
// DO NOT use relative imports
import "../styles/global.css";
// DO use virtual imports
import "my-theme:styles";
---
```

### Default style module

By default, all styles inside the `src/styles` directory will be combined into a virtual module:

<FileTree>
- package
	- src
		- **styles**
			- reset.css
			- styles.css
			- utilities.css
</FileTree>

```tsx
// package/src/pages/index.astro
---
import "my-theme:styles";
---
```

The default style module can be overriden using the `imports` option.
This can be useful for cases like importing fonts or controlling the order of styles inside the module:

```ts
export default defineTheme({
	name: 'my-theme',
	imports: {
		styles: [
			'@fontsource-variable/inter'
			'./src/styles/reset.css',
			'./src/styles/global.css',
			'./src/styles/utilities.css',
		]
	}
})
```

### Custom style modules

Custom style modules can be created using the `imports` option:

```ts
export default defineTheme({
	name: 'my-theme',
	imports: {
		// Use a string to glob files inside the 'src' folder
		'styles/blog': 'styles/blog/**/*.{css,scss}'
		// Use an array to manually define imports and control order
		'styles/gallery': [
			'@fontsource-variable/inter',
			'./src/styles/gallery/reset.css',
			'./src/styles/gallery/global.css',
			'./src/styles/gallery/utilities.css',
		]
	}
})
```

```tsx
// package/src/pages/index.astro
---
import "my-theme:styles/blog";
import "my-theme:styles/gallery";
---
```


## Creating overridable styles

All themes should be authored with style systems that are compatible with user projects and easy to customize.


### CSS variables

Use CSS variables when styling elements. CSS variables can be overwritten by the a user to customize the styles of a theme:

```css
:root {
	--my-color-fg: #fefefe;
	--my-color-bg: #222222;
}

body {
	/* DO NOT hardcode common styles */
	background-color: #222222;
	color: #fefefe;

	/* DO use css variables for common styles */
	background-color: var(--my-color-bg);
	color: var(--my-color-fg);
}
```

All CSS variables inside a theme should contain a prefix to avoid collisions with other styles and variables.


Read more about creating style systems with CSS variables here:
{/* Results of quick google search, better suggestions are appreciated */}
- [Building Design Systems with CSS Variables - Nicolas Pardo ](https://gorillalogic.com/blog/building-design-systems-with-css-variables)
- [Building your own Modern CSS Design System - Rocky Kev](https://dev.to/rockykev/building-your-own-modern-css-design-system-32kd)
- [How to create better themes with CSS variables - Michelle Barker](https://blog.logrocket.com/create-better-themes-with-css-variables/)

### Class names

Classes allow users to target elements inside a theme with style changes.
Elements inside themes should always include a class, even if it isnt being styled, so that users have an option to target the element for style changes.
Themes should choose class names that include a prefix to prevent collision with exisiting styles:

```html
<!-- DO NOT use broad generic class names -->
<article class="card">
	<h1></h1>
	<img/>
	<p></p>
</article>

<!-- DO use unique descriptive class names -->
<article class="my-card">
	<h1 class="my-card__title"></h1>
	<img class="my-card__image"/>
	<p class="my-card__description"></p>
</article>
```

Read more about choosing names for classes here:
- [BEM by Example - Nathan Rambeck](https://sparkbox.com/foundry/bem_by_example)

## Style patterns to avoid

There are many different patterns that theme authors should avoid when styling a theme.

### Style attributes

```html
<img src="" alt="" style="height:auto;width:100%;" />
```

Style attributes have a [high specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity#inline_styles) which makes them hard for users override.
Avoid using style attributes so that users can override the styles with their own custom styles.

### Style tags

```css
<style>
	body {
		color: red;
	}
</style>
```

All style tags, inline, global, and scoped should be avoided.
Astro Theme Provider cannot guarentee the order of styles loaded from tags which can lead to issues when users try to override the styles.
Instead, styles should be authored inside of seperate files and consumed using [virtual style modules](#virtual-style-modules)

{/* ### Fonts */}

{/* ### Utility classes */}